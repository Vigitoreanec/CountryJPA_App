<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>CountryAppProject</title>
    <!-- подключение стилей bootstrap -->
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">
</head>
<body>
<div class="container-fluid text-center">
    <h1>Список пользователей</h1>

    <!-- вывод сообщения об ошибке -->
    <p class="alert alert-danger text-center m-1" th:if="${errorMessage != null}">[[${errorMessage}]]</p>

    <!-- вывод сообщения -->
    <p class="alert alert-success text-center m-1" th:if="${message != null}">[[${message}]]</p>

    <!-- вывод всех записей в виде таблицы -->
    <table class="table table-bordered">
        <thead class="table-secondary">
        <tr>
            <th>Название</th>
            <th>Полное название</th>
            <th>Код страны из 2 букв</th>
            <th>Код страны из 3 букв</th>
            <th>Код страны из цифр</th>
            <th>Население страны</th>
            <th>Площадь страны кв. км.</th>
            <th>Действия</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="country : ${countries}">
            <td>[[${country.shortName}]]</td>
            <td>[[${country.fullName}]]</td>
            <td>[[${country.isoAlpha2}]]</td>
            <td>[[${country.isoAlpha3}]]</td>
            <td>[[${country.isoNumeric}]]</td>
            <td>[[${country.population}]]</td>
            <td>[[${country.square}]]</td>

            <td>
                <!--        Тут логика редактирования будет по первому поиску, 2 буквы или зная код удалить-->
<!--                <a class="btn btn-primary" th:href="@{'/countries/edit/' + ${country.isValid()}}">Редактировать</a>-->
<!--                <a class="btn btn-danger" th:href="@{'/countries/delete/' + ${country.isValid()}}">Удалить</a>-->
                <a class="btn btn-primary" th:href="@{'/countries/edit/' + ${country.isoAlpha3}}">Редактировать</a>
                <a class="btn btn-danger" th:href="@{'/countries/delete/' + ${country.isoAlpha3}}">Удалить</a>
            </td>
        </tr>
        </tbody>
    </table>

    <p><a th:href="@{/countries/new}">Добавить новую запись</a></p>
    <p><a th:href="@{/}">На Index</a></p>
</div>

<!-- подключение скриптов bootstrap -->
<script th:src="@{/webjars/bootstrap/js/bootstrap.bundle.min.js}"></script>
</body>
</html>